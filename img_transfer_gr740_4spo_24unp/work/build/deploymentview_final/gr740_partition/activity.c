#include <activity.h>
#include <types.h>
#include <po_hi_gqueue.h>
#include <deployment.h>
#include <po_hi_types.h>
#include <request.h>
#include <po_hi_task.h>
#include <po_hi_transport.h>
#include <po_hi_main.h>
#include <po_hi_time.h>
/**************************************************** */
/*  This file was automatically generated by Ocarina  */
/*  Working Copy from r07c3e4d7 */
/*  Do NOT hand-modify this file, as your             */
/*  changes will be lost when you re-run Ocarina      */
/**************************************************** */
void __po_hi_main_initialize (void);
extern process_package__taste_protected_object receiver_protected;
extern process_package__taste_protected_object sender_protected;
__po_hi_port_t __po_hi_receiver_a_outport_receiver_a_local_destinations[1] = {receiver_a_global_inport_a};
__po_hi_port_t __po_hi_receiver_a_outport_receiver_image_local_destinations[1] = {receiver_image_global_inport_image};
__po_hi_port_t __po_hi_receiver_a_outport_sender_b_local_destinations[1] = {sender_b_global_inport_b};
__po_hi_port_t __po_hi_receiver_a_outport_sender_testint_local_destinations[1] = {sender_testint_global_inport_testint};
__po_hi_port_id_t __po_hi_receiver_a_woffsets[__po_hi_receiver_a_nb_ports];
__po_hi_port_id_t __po_hi_receiver_a_offsets[__po_hi_receiver_a_nb_ports];
__po_hi_port_id_t __po_hi_receiver_a_used_size[__po_hi_receiver_a_nb_ports];
__po_hi_port_id_t __po_hi_receiver_a_empties[__po_hi_receiver_a_nb_ports];
__po_hi_port_id_t __po_hi_receiver_a_first[__po_hi_receiver_a_nb_ports];
__po_hi_request_t *__po_hi_receiver_a_recent[__po_hi_receiver_a_nb_ports];
__po_hi_request_t *__po_hi_receiver_a_queue[1];
__po_hi_uint16_t __po_hi_receiver_a_total_fifo_size = 1;
__po_hi_local_port_t __po_hi_receiver_a_history[1];
__po_hi_port_id_t __po_hi_receiver_a_n_dest[__po_hi_receiver_a_nb_ports] = {0,1,1,1,1};
__po_hi_port_id_t __po_hi_receiver_a_fifo_size[__po_hi_receiver_a_nb_ports] = {1,__PO_HI_GQUEUE_FIFO_OUT,__PO_HI_GQUEUE_FIFO_OUT,__PO_HI_GQUEUE_FIFO_OUT,__PO_HI_GQUEUE_FIFO_OUT};
__po_hi_port_t* __po_hi_receiver_a_destinations[__po_hi_receiver_a_nb_ports] = {NULL,__po_hi_receiver_a_outport_receiver_a_local_destinations,__po_hi_receiver_a_outport_receiver_image_local_destinations,__po_hi_receiver_a_outport_sender_b_local_destinations,__po_hi_receiver_a_outport_sender_testint_local_destinations};

/*!
 * \fn void receiver_a_deliver (__po_hi_request_t* request)
 * \brief Function that delivers requests to the task receiver_a
 *
 * When the generated application received a request, it calls a main delivery
 *  function that redirects to localfunctions for each task. This function 
 * (receiver_a_deliver) stores the incoming request for the taskreceiver_a
 */
void receiver_a_deliver 
    (__po_hi_request_t* request)
{

  switch (request->port)
  {
    case receiver_a_global_inport_a:
    {
      __po_hi_gqueue_store_in (gr740_partition_receiver_a_k, receiver_a_local_inport_a, request);

      break;
    }
    default:
    {
      break;
    }
  }
}


/*!
 * \fn void* receiver_a_job (void)
 * \brief Function executed by the task receiver_a
 *
 * This function is executed as soon as the task  is created. It performs the 
 * following operations:  Receive incoming data,  Execute tasks subprograms,  
 * Send output data.
 */
/*  Sporadic task : receiver_a */
extern void call_receiver_a 
    (__po_hi_task_id self,
    dataview__myinteger_buffer_impl* inport_a);
extern void init_receiver (void);
void* receiver_a_job (void)
{
  __po_hi_local_port_t port;
  __po_hi_request_t *inport_a_request;
  __po_hi_int32_t error;

  init_receiver ();
  
/*!
 * Waiting for other tasks initialization
 */
  __po_hi_wait_initialization ();
  __po_hi_compute_next_period (gr740_partition_receiver_a_k);
  
/*!
 * Waiting for the first dispatch instant
 */
  __po_hi_wait_for_next_period (gr740_partition_receiver_a_k);
  
/*!
 * Task body
 */
  while (1)
  {
    __po_hi_gqueue_wait_for_incoming_event (gr740_partition_receiver_a_k, &(port));
    __po_hi_compute_next_period (gr740_partition_receiver_a_k);
    /*  Make_Ports_Compute_Entrypoint */
    switch (port)
    {
      case receiver_a_local_inport_a:
      {
        /* :: Yes if commentary :: */
        if (__po_hi_gqueue_get_count (gr740_partition_receiver_a_k, receiver_a_local_inport_a))
        {
                  __po_hi_gqueue_get_value (gr740_partition_receiver_a_k, receiver_a_local_inport_a, &(inport_a_request));
          __po_hi_gqueue_next_value (gr740_partition_receiver_a_k, receiver_a_local_inport_a);

        }

        call_receiver_a (gr740_partition_receiver_a_k, &(inport_a_request->vars.receiver_a_global_inport_a.receiver_a_global_inport_a));

        break;
      }
      default:
      {
        break;
      }
    }
    /*  Send the OUT ports */
    error =
     __po_hi_send_output (gr740_partition_receiver_a_k, receiver_a_global_outport_receiver_a);
    (void)error;
    error =
     __po_hi_send_output (gr740_partition_receiver_a_k, receiver_a_global_outport_receiver_image);
    (void)error;
    error =
     __po_hi_send_output (gr740_partition_receiver_a_k, receiver_a_global_outport_sender_b);
    (void)error;
    error =
     __po_hi_send_output (gr740_partition_receiver_a_k, receiver_a_global_outport_sender_testint);
    (void)error;
    __po_hi_free_request (inport_a_request);
    __po_hi_wait_for_next_period (gr740_partition_receiver_a_k);
  }
}

__po_hi_port_t __po_hi_receiver_image_outport_receiver_a_local_destinations[1] = {receiver_a_global_inport_a};
__po_hi_port_t __po_hi_receiver_image_outport_receiver_image_local_destinations[1] = {receiver_image_global_inport_image};
__po_hi_port_t __po_hi_receiver_image_outport_sender_b_local_destinations[1] = {sender_b_global_inport_b};
__po_hi_port_t __po_hi_receiver_image_outport_sender_testint_local_destinations[1] = {sender_testint_global_inport_testint};
__po_hi_port_id_t __po_hi_receiver_image_woffsets[__po_hi_receiver_image_nb_ports];
__po_hi_port_id_t __po_hi_receiver_image_offsets[__po_hi_receiver_image_nb_ports];
__po_hi_port_id_t __po_hi_receiver_image_used_size[__po_hi_receiver_image_nb_ports];
__po_hi_port_id_t __po_hi_receiver_image_empties[__po_hi_receiver_image_nb_ports];
__po_hi_port_id_t __po_hi_receiver_image_first[__po_hi_receiver_image_nb_ports];
__po_hi_request_t *__po_hi_receiver_image_recent[__po_hi_receiver_image_nb_ports];
__po_hi_request_t *__po_hi_receiver_image_queue[1];
__po_hi_uint16_t __po_hi_receiver_image_total_fifo_size = 1;
__po_hi_local_port_t __po_hi_receiver_image_history[1];
__po_hi_port_id_t __po_hi_receiver_image_n_dest[__po_hi_receiver_image_nb_ports] = {0,1,1,1,1};
__po_hi_port_id_t __po_hi_receiver_image_fifo_size[__po_hi_receiver_image_nb_ports] = {1,__PO_HI_GQUEUE_FIFO_OUT,__PO_HI_GQUEUE_FIFO_OUT,__PO_HI_GQUEUE_FIFO_OUT,__PO_HI_GQUEUE_FIFO_OUT};
__po_hi_port_t* __po_hi_receiver_image_destinations[__po_hi_receiver_image_nb_ports] = {NULL,__po_hi_receiver_image_outport_receiver_a_local_destinations,__po_hi_receiver_image_outport_receiver_image_local_destinations,__po_hi_receiver_image_outport_sender_b_local_destinations,__po_hi_receiver_image_outport_sender_testint_local_destinations};

/*!
 * \fn void receiver_image_deliver (__po_hi_request_t* request)
 * \brief Function that delivers requests to the task receiver_image
 *
 * When the generated application received a request, it calls a main delivery
 *  function that redirects to localfunctions for each task. This function 
 * (receiver_image_deliver) stores the incoming request for the 
 * taskreceiver_image
 */
void receiver_image_deliver 
    (__po_hi_request_t* request)
{

  switch (request->port)
  {
    case receiver_image_global_inport_image:
    {
      __po_hi_gqueue_store_in (gr740_partition_receiver_image_k, receiver_image_local_inport_image, request);

      break;
    }
    default:
    {
      break;
    }
  }
}


/*!
 * \fn void* receiver_image_job (void)
 * \brief Function executed by the task receiver_image
 *
 * This function is executed as soon as the task  is created. It performs the 
 * following operations:  Receive incoming data,  Execute tasks subprograms,  
 * Send output data.
 */
/*  Sporadic task : receiver_image */
extern void call_receiver_image 
    (__po_hi_task_id self,
    dataview__rawdata_buffer_impl* inport_image);
extern void init_receiver (void);
void* receiver_image_job (void)
{
  __po_hi_local_port_t port;
  __po_hi_request_t *inport_image_request;
  __po_hi_int32_t error;

  init_receiver ();
  
/*!
 * Waiting for other tasks initialization
 */
  __po_hi_wait_initialization ();
  __po_hi_compute_next_period (gr740_partition_receiver_image_k);
  
/*!
 * Waiting for the first dispatch instant
 */
  __po_hi_wait_for_next_period (gr740_partition_receiver_image_k);
  
/*!
 * Task body
 */
  while (1)
  {
    __po_hi_gqueue_wait_for_incoming_event (gr740_partition_receiver_image_k, &(port));
    __po_hi_compute_next_period (gr740_partition_receiver_image_k);
    /*  Make_Ports_Compute_Entrypoint */
    switch (port)
    {
      case receiver_image_local_inport_image:
      {
        /* :: Yes if commentary :: */
        if (__po_hi_gqueue_get_count (gr740_partition_receiver_image_k, receiver_image_local_inport_image))
        {
                  __po_hi_gqueue_get_value (gr740_partition_receiver_image_k, receiver_image_local_inport_image, &(inport_image_request));
          __po_hi_gqueue_next_value (gr740_partition_receiver_image_k, receiver_image_local_inport_image);

        }

        call_receiver_image (gr740_partition_receiver_image_k, &(inport_image_request->vars.receiver_image_global_inport_image.receiver_image_global_inport_image));

        break;
      }
      default:
      {
        break;
      }
    }
    /*  Send the OUT ports */
    error =
     __po_hi_send_output (gr740_partition_receiver_image_k, receiver_image_global_outport_receiver_a);
    (void)error;
    error =
     __po_hi_send_output (gr740_partition_receiver_image_k, receiver_image_global_outport_receiver_image);
    (void)error;
    error =
     __po_hi_send_output (gr740_partition_receiver_image_k, receiver_image_global_outport_sender_b);
    (void)error;
    error =
     __po_hi_send_output (gr740_partition_receiver_image_k, receiver_image_global_outport_sender_testint);
    (void)error;
    __po_hi_free_request (inport_image_request);
    __po_hi_wait_for_next_period (gr740_partition_receiver_image_k);
  }
}

__po_hi_port_t __po_hi_sender_b_outport_receiver_a_local_destinations[1] = {receiver_a_global_inport_a};
__po_hi_port_t __po_hi_sender_b_outport_receiver_image_local_destinations[1] = {receiver_image_global_inport_image};
__po_hi_port_t __po_hi_sender_b_outport_sender_b_local_destinations[1] = {sender_b_global_inport_b};
__po_hi_port_t __po_hi_sender_b_outport_sender_testint_local_destinations[1] = {sender_testint_global_inport_testint};
__po_hi_port_id_t __po_hi_sender_b_woffsets[__po_hi_sender_b_nb_ports];
__po_hi_port_id_t __po_hi_sender_b_offsets[__po_hi_sender_b_nb_ports];
__po_hi_port_id_t __po_hi_sender_b_used_size[__po_hi_sender_b_nb_ports];
__po_hi_port_id_t __po_hi_sender_b_empties[__po_hi_sender_b_nb_ports];
__po_hi_port_id_t __po_hi_sender_b_first[__po_hi_sender_b_nb_ports];
__po_hi_request_t *__po_hi_sender_b_recent[__po_hi_sender_b_nb_ports];
__po_hi_request_t *__po_hi_sender_b_queue[1];
__po_hi_uint16_t __po_hi_sender_b_total_fifo_size = 1;
__po_hi_local_port_t __po_hi_sender_b_history[1];
__po_hi_port_id_t __po_hi_sender_b_n_dest[__po_hi_sender_b_nb_ports] = {0,1,1,1,1};
__po_hi_port_id_t __po_hi_sender_b_fifo_size[__po_hi_sender_b_nb_ports] = {1,__PO_HI_GQUEUE_FIFO_OUT,__PO_HI_GQUEUE_FIFO_OUT,__PO_HI_GQUEUE_FIFO_OUT,__PO_HI_GQUEUE_FIFO_OUT};
__po_hi_port_t* __po_hi_sender_b_destinations[__po_hi_sender_b_nb_ports] = {NULL,__po_hi_sender_b_outport_receiver_a_local_destinations,__po_hi_sender_b_outport_receiver_image_local_destinations,__po_hi_sender_b_outport_sender_b_local_destinations,__po_hi_sender_b_outport_sender_testint_local_destinations};

/*!
 * \fn void sender_b_deliver (__po_hi_request_t* request)
 * \brief Function that delivers requests to the task sender_b
 *
 * When the generated application received a request, it calls a main delivery
 *  function that redirects to localfunctions for each task. This function 
 * (sender_b_deliver) stores the incoming request for the tasksender_b
 */
void sender_b_deliver 
    (__po_hi_request_t* request)
{

  switch (request->port)
  {
    case sender_b_global_inport_b:
    {
      __po_hi_gqueue_store_in (gr740_partition_sender_b_k, sender_b_local_inport_b, request);

      break;
    }
    default:
    {
      break;
    }
  }
}


/*!
 * \fn void* sender_b_job (void)
 * \brief Function executed by the task sender_b
 *
 * This function is executed as soon as the task  is created. It performs the 
 * following operations:  Receive incoming data,  Execute tasks subprograms,  
 * Send output data.
 */
/*  Sporadic task : sender_b */
extern void call_sender_b 
    (__po_hi_task_id self,
    dataview__myinteger_buffer_impl* inport_b);
extern void init_sender (void);
void* sender_b_job (void)
{
  __po_hi_local_port_t port;
  __po_hi_request_t *inport_b_request;
  __po_hi_int32_t error;

  init_sender ();
  
/*!
 * Waiting for other tasks initialization
 */
  __po_hi_wait_initialization ();
  __po_hi_compute_next_period (gr740_partition_sender_b_k);
  
/*!
 * Waiting for the first dispatch instant
 */
  __po_hi_wait_for_next_period (gr740_partition_sender_b_k);
  
/*!
 * Task body
 */
  while (1)
  {
    __po_hi_gqueue_wait_for_incoming_event (gr740_partition_sender_b_k, &(port));
    __po_hi_compute_next_period (gr740_partition_sender_b_k);
    /*  Make_Ports_Compute_Entrypoint */
    switch (port)
    {
      case sender_b_local_inport_b:
      {
        /* :: Yes if commentary :: */
        if (__po_hi_gqueue_get_count (gr740_partition_sender_b_k, sender_b_local_inport_b))
        {
                  __po_hi_gqueue_get_value (gr740_partition_sender_b_k, sender_b_local_inport_b, &(inport_b_request));
          __po_hi_gqueue_next_value (gr740_partition_sender_b_k, sender_b_local_inport_b);

        }

        call_sender_b (gr740_partition_sender_b_k, &(inport_b_request->vars.sender_b_global_inport_b.sender_b_global_inport_b));

        break;
      }
      default:
      {
        break;
      }
    }
    /*  Send the OUT ports */
    error =
     __po_hi_send_output (gr740_partition_sender_b_k, sender_b_global_outport_receiver_a);
    (void)error;
    error =
     __po_hi_send_output (gr740_partition_sender_b_k, sender_b_global_outport_receiver_image);
    (void)error;
    error =
     __po_hi_send_output (gr740_partition_sender_b_k, sender_b_global_outport_sender_b);
    (void)error;
    error =
     __po_hi_send_output (gr740_partition_sender_b_k, sender_b_global_outport_sender_testint);
    (void)error;
    __po_hi_free_request (inport_b_request);
    __po_hi_wait_for_next_period (gr740_partition_sender_b_k);
  }
}

__po_hi_port_t __po_hi_sender_testint_outport_receiver_a_local_destinations[1] = {receiver_a_global_inport_a};
__po_hi_port_t __po_hi_sender_testint_outport_receiver_image_local_destinations[1] = {receiver_image_global_inport_image};
__po_hi_port_t __po_hi_sender_testint_outport_sender_b_local_destinations[1] = {sender_b_global_inport_b};
__po_hi_port_t __po_hi_sender_testint_outport_sender_testint_local_destinations[1] = {sender_testint_global_inport_testint};
__po_hi_port_id_t __po_hi_sender_testint_woffsets[__po_hi_sender_testint_nb_ports];
__po_hi_port_id_t __po_hi_sender_testint_offsets[__po_hi_sender_testint_nb_ports];
__po_hi_port_id_t __po_hi_sender_testint_used_size[__po_hi_sender_testint_nb_ports];
__po_hi_port_id_t __po_hi_sender_testint_empties[__po_hi_sender_testint_nb_ports];
__po_hi_port_id_t __po_hi_sender_testint_first[__po_hi_sender_testint_nb_ports];
__po_hi_request_t *__po_hi_sender_testint_recent[__po_hi_sender_testint_nb_ports];
__po_hi_request_t *__po_hi_sender_testint_queue[1];
__po_hi_uint16_t __po_hi_sender_testint_total_fifo_size = 1;
__po_hi_local_port_t __po_hi_sender_testint_history[1];
__po_hi_port_id_t __po_hi_sender_testint_n_dest[__po_hi_sender_testint_nb_ports] = {0,1,1,1,1};
__po_hi_port_id_t __po_hi_sender_testint_fifo_size[__po_hi_sender_testint_nb_ports] = {1,__PO_HI_GQUEUE_FIFO_OUT,__PO_HI_GQUEUE_FIFO_OUT,__PO_HI_GQUEUE_FIFO_OUT,__PO_HI_GQUEUE_FIFO_OUT};
__po_hi_port_t* __po_hi_sender_testint_destinations[__po_hi_sender_testint_nb_ports] = {NULL,__po_hi_sender_testint_outport_receiver_a_local_destinations,__po_hi_sender_testint_outport_receiver_image_local_destinations,__po_hi_sender_testint_outport_sender_b_local_destinations,__po_hi_sender_testint_outport_sender_testint_local_destinations};

/*!
 * \fn void sender_testint_deliver (__po_hi_request_t* request)
 * \brief Function that delivers requests to the task sender_testint
 *
 * When the generated application received a request, it calls a main delivery
 *  function that redirects to localfunctions for each task. This function 
 * (sender_testint_deliver) stores the incoming request for the 
 * tasksender_testint
 */
void sender_testint_deliver 
    (__po_hi_request_t* request)
{

  switch (request->port)
  {
    case sender_testint_global_inport_testint:
    {
      __po_hi_gqueue_store_in (gr740_partition_sender_testint_k, sender_testint_local_inport_testint, request);

      break;
    }
    default:
    {
      break;
    }
  }
}


/*!
 * \fn void* sender_testint_job (void)
 * \brief Function executed by the task sender_testint
 *
 * This function is executed as soon as the task  is created. It performs the 
 * following operations:  Receive incoming data,  Execute tasks subprograms,  
 * Send output data.
 */
/*  Sporadic task : sender_testint */
extern void call_sender_testint 
    (__po_hi_task_id self,
    dataview__myinteger_buffer_impl* inport_testint);
extern void init_sender (void);
void* sender_testint_job (void)
{
  __po_hi_local_port_t port;
  __po_hi_request_t *inport_testint_request;
  __po_hi_int32_t error;

  init_sender ();
  
/*!
 * Waiting for other tasks initialization
 */
  __po_hi_wait_initialization ();
  __po_hi_compute_next_period (gr740_partition_sender_testint_k);
  
/*!
 * Waiting for the first dispatch instant
 */
  __po_hi_wait_for_next_period (gr740_partition_sender_testint_k);
  
/*!
 * Task body
 */
  while (1)
  {
    __po_hi_gqueue_wait_for_incoming_event (gr740_partition_sender_testint_k, &(port));
    __po_hi_compute_next_period (gr740_partition_sender_testint_k);
    /*  Make_Ports_Compute_Entrypoint */
    switch (port)
    {
      case sender_testint_local_inport_testint:
      {
        /* :: Yes if commentary :: */
        if (__po_hi_gqueue_get_count (gr740_partition_sender_testint_k, sender_testint_local_inport_testint))
        {
                  __po_hi_gqueue_get_value (gr740_partition_sender_testint_k, sender_testint_local_inport_testint, &(inport_testint_request));
          __po_hi_gqueue_next_value (gr740_partition_sender_testint_k, sender_testint_local_inport_testint);

        }

        call_sender_testint (gr740_partition_sender_testint_k, &(inport_testint_request->vars.sender_testint_global_inport_testint.sender_testint_global_inport_testint));

        break;
      }
      default:
      {
        break;
      }
    }
    /*  Send the OUT ports */
    error =
     __po_hi_send_output (gr740_partition_sender_testint_k, sender_testint_global_outport_receiver_a);
    (void)error;
    error =
     __po_hi_send_output (gr740_partition_sender_testint_k, sender_testint_global_outport_receiver_image);
    (void)error;
    error =
     __po_hi_send_output (gr740_partition_sender_testint_k, sender_testint_global_outport_sender_b);
    (void)error;
    error =
     __po_hi_send_output (gr740_partition_sender_testint_k, sender_testint_global_outport_sender_testint);
    (void)error;
    __po_hi_free_request (inport_testint_request);
    __po_hi_wait_for_next_period (gr740_partition_sender_testint_k);
  }
}

__po_hi_port_t __po_hi_sender_trigger_outport_receiver_a_local_destinations[1] = {receiver_a_global_inport_a};
__po_hi_port_t __po_hi_sender_trigger_outport_receiver_image_local_destinations[1] = {receiver_image_global_inport_image};
__po_hi_port_t __po_hi_sender_trigger_outport_sender_b_local_destinations[1] = {sender_b_global_inport_b};
__po_hi_port_t __po_hi_sender_trigger_outport_sender_testint_local_destinations[1] = {sender_testint_global_inport_testint};
__po_hi_port_id_t __po_hi_sender_trigger_woffsets[__po_hi_sender_trigger_nb_ports];
__po_hi_port_id_t __po_hi_sender_trigger_offsets[__po_hi_sender_trigger_nb_ports];
__po_hi_port_id_t __po_hi_sender_trigger_used_size[__po_hi_sender_trigger_nb_ports];
__po_hi_port_id_t __po_hi_sender_trigger_empties[__po_hi_sender_trigger_nb_ports];
__po_hi_port_id_t __po_hi_sender_trigger_first[__po_hi_sender_trigger_nb_ports];
__po_hi_request_t *__po_hi_sender_trigger_recent[__po_hi_sender_trigger_nb_ports];
__po_hi_request_t *__po_hi_sender_trigger_queue[0];
__po_hi_uint16_t __po_hi_sender_trigger_total_fifo_size = 0;
__po_hi_local_port_t __po_hi_sender_trigger_history[0];
__po_hi_port_id_t __po_hi_sender_trigger_n_dest[__po_hi_sender_trigger_nb_ports] = {1,1,1,1};
__po_hi_port_id_t __po_hi_sender_trigger_fifo_size[__po_hi_sender_trigger_nb_ports] = {__PO_HI_GQUEUE_FIFO_OUT,__PO_HI_GQUEUE_FIFO_OUT,__PO_HI_GQUEUE_FIFO_OUT,__PO_HI_GQUEUE_FIFO_OUT};
__po_hi_port_t* __po_hi_sender_trigger_destinations[__po_hi_sender_trigger_nb_ports] = {__po_hi_sender_trigger_outport_receiver_a_local_destinations,__po_hi_sender_trigger_outport_receiver_image_local_destinations,__po_hi_sender_trigger_outport_sender_b_local_destinations,__po_hi_sender_trigger_outport_sender_testint_local_destinations};

/*!
 * \fn void* sender_trigger_job (void)
 * \brief Function executed by the task sender_trigger
 *
 * This function is executed as soon as the task  is created. It performs the 
 * following operations:  Receive incoming data,  Execute tasks subprograms,  
 * Send output data.
 */
/*  Periodic task : sender_trigger */
extern void call_sender_trigger 
    (__po_hi_task_id self);
extern void init_sender (void);
void* sender_trigger_job (void)
{
  __po_hi_int32_t error;

  init_sender ();
  
/*!
 * Waiting for other tasks initialization
 */
  __po_hi_wait_initialization ();
  __po_hi_time_t offset;
  __po_hi_milliseconds (&(offset), 0);
  __po_hi_task_wait_offset (&(offset));
  __po_hi_compute_next_period (gr740_partition_sender_trigger_k);
  
/*!
 * Waiting for the first dispatch instant
 */
  __po_hi_wait_for_next_period (gr740_partition_sender_trigger_k);
  
/*!
 * Task body
 */
  while (1)
  {
    /*  Make_Thread_Compute_Entrypoint */
    call_sender_trigger (gr740_partition_sender_trigger_k);
    /*  Send the OUT ports */
    error =
     __po_hi_send_output (gr740_partition_sender_trigger_k, sender_trigger_global_outport_receiver_a);
    (void)error;
    error =
     __po_hi_send_output (gr740_partition_sender_trigger_k, sender_trigger_global_outport_receiver_image);
    (void)error;
    error =
     __po_hi_send_output (gr740_partition_sender_trigger_k, sender_trigger_global_outport_sender_b);
    (void)error;
    error =
     __po_hi_send_output (gr740_partition_sender_trigger_k, sender_trigger_global_outport_sender_testint);
    (void)error;
    __po_hi_wait_for_next_period (gr740_partition_sender_trigger_k);
  }
}


/*!
 * \fn void __po_hi_main_deliver (__po_hi_request_t* request)
 * \brief Used to deliver request to the appropriate ports
 *
 * This function takes a request as argument (\arg request) and calls the 
 * appropriate function for its delivery.To specify which function should be 
 * called, it extracts the receiver entity using the destination port.
 */
void __po_hi_main_deliver 
    (__po_hi_request_t* request)
{
  __po_hi_entity_t entity;

  entity = __po_hi_get_entity_from_global_port (request->port);
  switch (entity)
  {
    case gr740_partition_receiver_a_k_entity:
    {
      receiver_a_deliver (request);

      break;
    }
    case gr740_partition_receiver_image_k_entity:
    {
      receiver_image_deliver (request);

      break;
    }
    case gr740_partition_sender_b_k_entity:
    {
      sender_b_deliver (request);

      break;
    }
    case gr740_partition_sender_testint_k_entity:
    {
      sender_testint_deliver (request);

      break;
    }
    default:
    {
      break;
    }
  }
}

void __po_hi_main_initialize (void)
{

  __po_hi_gqueue_init (gr740_partition_receiver_a_k, __po_hi_receiver_a_nb_ports, __po_hi_receiver_a_queue, __po_hi_receiver_a_fifo_size, __po_hi_receiver_a_first, __po_hi_receiver_a_offsets, __po_hi_receiver_a_woffsets, __po_hi_receiver_a_n_dest, __po_hi_receiver_a_destinations, __po_hi_receiver_a_used_size, __po_hi_receiver_a_history, __po_hi_receiver_a_recent, __po_hi_receiver_a_empties, __po_hi_receiver_a_total_fifo_size);
  __po_hi_gqueue_init (gr740_partition_receiver_image_k, __po_hi_receiver_image_nb_ports, __po_hi_receiver_image_queue, __po_hi_receiver_image_fifo_size, __po_hi_receiver_image_first, __po_hi_receiver_image_offsets, __po_hi_receiver_image_woffsets, __po_hi_receiver_image_n_dest, __po_hi_receiver_image_destinations, __po_hi_receiver_image_used_size, __po_hi_receiver_image_history, __po_hi_receiver_image_recent, __po_hi_receiver_image_empties, __po_hi_receiver_image_total_fifo_size);
  __po_hi_gqueue_init (gr740_partition_sender_b_k, __po_hi_sender_b_nb_ports, __po_hi_sender_b_queue, __po_hi_sender_b_fifo_size, __po_hi_sender_b_first, __po_hi_sender_b_offsets, __po_hi_sender_b_woffsets, __po_hi_sender_b_n_dest, __po_hi_sender_b_destinations, __po_hi_sender_b_used_size, __po_hi_sender_b_history, __po_hi_sender_b_recent, __po_hi_sender_b_empties, __po_hi_sender_b_total_fifo_size);
  __po_hi_gqueue_init (gr740_partition_sender_testint_k, __po_hi_sender_testint_nb_ports, __po_hi_sender_testint_queue, __po_hi_sender_testint_fifo_size, __po_hi_sender_testint_first, __po_hi_sender_testint_offsets, __po_hi_sender_testint_woffsets, __po_hi_sender_testint_n_dest, __po_hi_sender_testint_destinations, __po_hi_sender_testint_used_size, __po_hi_sender_testint_history, __po_hi_sender_testint_recent, __po_hi_sender_testint_empties, __po_hi_sender_testint_total_fifo_size);
  __po_hi_gqueue_init (gr740_partition_sender_trigger_k, __po_hi_sender_trigger_nb_ports, __po_hi_sender_trigger_queue, __po_hi_sender_trigger_fifo_size, __po_hi_sender_trigger_first, __po_hi_sender_trigger_offsets, __po_hi_sender_trigger_woffsets, __po_hi_sender_trigger_n_dest, __po_hi_sender_trigger_destinations, __po_hi_sender_trigger_used_size, __po_hi_sender_trigger_history, __po_hi_sender_trigger_recent, __po_hi_sender_trigger_empties, __po_hi_sender_trigger_total_fifo_size);
}


